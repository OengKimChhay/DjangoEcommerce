{% extends '../layouts/base.html' %}
{% block title %} Category Listing {% endblock %}

{% block page_title %} Category Listing {% endblock %}

{% block content %}
    <div class="d-flex justify-content-between mb-3">
        <form action="" method="GET" class="d-flex">
            {% csrf_token %}
            <input type="text" name="search" value="{{ search }}" class="form-control" placeholder="Search category name">
            <button class="btn btn-primary mx-3">Search</button>
        </form>
        <a href="{% url 'manageStores:category_create' %}" class="btn btn-success">Add new</a>
    </div>
    {% for msg in messages %}
        <div class="alert alert-success" role="alert">
            {{ msg }}
        </div>
    {% endfor %}

    {% if categories %}
        <h5>Category found : {{ categories|length }}</h5>
        <table class="shadow table table-border">
            <thead>
                <tr>
                    <th>Category Name</th>
                    <th>Category Slug</th>
                    <th>Action</th>
                </tr>
            </thead>
            <tbody>
                {% for category in categories %}
                    <tr>
                        <td>{{ category.name }}</td>
                        <td>{{ category.slug }}</td>
                        <td>
                            <div class="btn-group">
                              <button type="button" class="btn btn-primary dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false">
                                Action
                              </button>
                              <ul class="dropdown-menu">
                                <li><a class="dropdown-item" href="{% url 'user:auth_view' category.id %}">View</a></li>
                                <li><a class="dropdown-item" href="{% url 'manageStores:category_update' category.id %}">Update</a></li>
                                <li><a class="dropdown-item" href="{% url 'user:auth_delete' category.id %}">Delete</a></li>
                              </ul>
                            </div>
                        </td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    {% else %}
        <h3 class="text-center">No user found.</h3>
    {% endif %}

{% endblock%}

{% block css %}
<style>
    .form-check-input:disabled{
        opacity:1;
    }
</style>
{% endblock%}